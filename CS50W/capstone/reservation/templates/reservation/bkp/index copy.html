{% extends "reservation/layout.html" %}
{% load static %}

{% block body %}
    <h1 class="display-4 my-3"><a href="{% url 'index' %}">Reservation</a></h1>

    <button class="btn btn-sm btn-outline-info btn-nav" id="rooms">Rooms</button>
    {% if user.is_authenticated %}
        <a class="btn btn-sm btn-outline-info btn-nav" href="{% url 'profile' %}" aria-current="User"><strong>{{ user }}</strong></a>
        <a class="btn btn-sm btn-outline-info btn-nav" href="{% url 'logout' %}" aria-current="Log out">Log Out</a>
    {% else %}
        <a class="btn btn-sm btn-outline-info btn-nav" href="{% url 'login' %}" aria-current="Log In">Log In</a>
        <a class="btn btn-sm btn-outline-info btn-nav" href="{% url 'register' %}" aria-current="Register">Register</a>
    {% endif %}

    <hr>

        <div id="search"></div>

        <div id="results"></div>

    <hr>
    <h1>Search Available Rooms</h1>
    <form action="{% url 'index' %}" method="post">
        {% csrf_token %}
        <div>{{ search_form.checkin.label_tag }} {{ search_form.checkin }} - {{ search_form.checkout.label_tag }} {{ search_form.checkout }}</div>
        <div>{{ search_form.room.label_tag }} {{ search_form.room }}</div>
        <button type="submit">Search</button>
    </form>
    {% for room in rooms %}
        <div>
            <a href="{% url 'room' room.id %}">{{ room.title }}</a>
        </div>
    {% empty %}
        <h2>No available rooms for requested dates</h2>
    {% endfor %}
{% endblock %}

